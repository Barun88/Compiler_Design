<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visual Flow</title>
  <script src="https://unpkg.com/blockly@11/blockly.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/acorn@8.11.3/dist/acorn.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="toolbar">
    <button onclick="generateCode()">Generate Code</button>
    <button onclick="clearWorkspace()">Clear</button>
    <button onclick="logCode()">Log Code</button>
    <button onclick="getAst()">Generate Ast</button>
    <button id="sendAstButton" onclick="sendAstToServer()">Run</button>
    <button onclick="generateLLVMIR()">Generate LLVM IR</button>
    <button onclick="sendLLVMIRToServer()">Send LLVM IR to Server</button>
  </div>
  <div id="main">
    <div id="blocklyDiv"></div>
    <div id="codePanel">
      <h3>Generated JavaScript</h3>
      <div id="generatedCode">// Click 'Generate Code'</div>
    </div>
  </div>

  <xml id="toolbox" style="display: none">
    <category name="Variables" colour="330" custom="VARIABLE"></category>
    
    <category name="Math" colour="230">
      <block type="math_number">
        <field name="NUM">0</field>
      </block>
      <block type="math_arithmetic">
        <field name="OP">ADD</field>
        <value name="A">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="B">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
    </category>

    <category name="Logic" colour="210">
      <block type="controls_if"></block>
      <block type="logic_compare">
        <field name="OP">EQ</field>
      </block>
      <block type="logic_boolean">
        <field name="BOOL">TRUE</field>
      </block>
    </category>

    <category name="Loops" colour="120">
      <block type="controls_repeat_ext">
        <value name="TIMES">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="controls_whileUntil">
        <field name="MODE">WHILE</field>
      </block>
    </category>

    <category name="Text" colour="160">
      <block type="text">
        <field name="TEXT"></field>
      </block>
      <block type="text_print">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
    </category>
  </xml>
  


  <script src="script.js"></script>
  <script src="llvm_gen.js"></script>
</body>
</html>
